<!doctype html>
<html lang="en" translate="no">
    <head>
        <title>Trezor Suite</title>
        <meta name="google" content="notranslate" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta charset="utf-8" />

        <link media="all" rel="stylesheet" href="<%= assetPrefix %>/static/fonts/fonts.css" />
        <link rel="icon" href="<%= assetPrefix %>/static/images/favicons/favicon.png" />
        <link rel="apple-touch-icon" href="<%= assetPrefix %>/static/images/favicons/favicon.png" />
        <% if(isOnionLocation) { %>
        <meta
            http-equiv="onion-location"
            content="http://suite.trezoriovpjcahpzkrewelclulmszwbqpzmzgub37gbcjlvluxtruqad.onion/web"
        />
        <% } %>
        <script type="text/javascript">
            if (localStorage.getItem('translation_mode') === 'true') {
                console.warn('INJECTING CROWDIN IN-CONTEXT');
                var _jipt = [];
                _jipt.push(['project', 'trezor-suite']);
                _jipt.push([
                    'escape',
                    function () {
                        localStorage.removeItem('translation_mode');
                        window.location.reload();
                    },
                ]);
                var script = document.createElement('script');
                script.setAttribute('src', '//cdn.crowdin.com/jipt/jipt.js');
                document.head.prepend(script);
            }

            // set favicon according to current system theme
            function si(event) {
                var isDM = event.matches; // isDarkMode
                var i = document.querySelector('link[rel=icon]');
                var ai = document.querySelector('link[rel=apple-touch-icon]');

                if (isDM) {
                    i.setAttribute(
                        'href',
                        '<%= assetPrefix %>/static/images/favicons/favicon_dm.png',
                    );
                    ai.setAttribute(
                        'href',
                        '<%= assetPrefix %>/static/images/favicons/favicon_dm.png',
                    );
                } else {
                    i.setAttribute('href', '<%= assetPrefix %>/static/images/favicons/favicon.png');
                    ai.setAttribute(
                        'href',
                        '<%= assetPrefix %>/static/images/favicons/favicon.png',
                    );
                }
            }

            if (window.matchMedia) {
                var _mm = window.matchMedia('(prefers-color-scheme: dark)');

                // not supported in IE
                if (_mm.addEventListener) {
                    _mm.addEventListener('change', function (e) {
                        return si(e);
                    });
                }

                si(_mm);
            }
        </script>
        <script src="<%= assetPrefix %>/static/browser-detection/index.js"></script>
    </head>
    <body></body>
</html>
